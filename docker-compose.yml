services:
  electrumx:
    image: electrumx-plm:local
    container_name: electrumx-plm
    restart: unless-stopped
    extra_hosts:
      - "host.docker.internal:host-gateway"
    ports:
      - "50001:50001"  # TCP
      - "50002:50002"  # SSL

    environment:
      # ===== Network Configuration =====
      # For MAINNET use: COIN: "Palladium", NET: "mainnet" and DAEMON_URL port 2332
      # For TESTNET use: COIN: "Palladium", NET: "testnet" and DAEMON_URL port 12332

      COIN: "Palladium"  # Always "Palladium" for both networks
      NET: "testnet"  # Change to "mainnet" for mainnet

      # Palladium Core RPC connection
      # MAINNET: port 2332 | TESTNET: port 12332
      DAEMON_URL: "http://rpcuser:rpcpassword@host.docker.internal:12332/"  # RPC credentials

      SERVICES: "tcp://0.0.0.0:50001,ssl://0.0.0.0:50002"

      SSL_CERTFILE: "/certs/server.crt"
      SSL_KEYFILE: "/certs/server.key"

      DB_DIRECTORY: "/data"
      PEER_DISCOVERY: "off"
      PEER_ANNOUNCE: "false"
      INITIAL_CONCURRENT: "2"
      COST_SOFT_LIMIT: "0"
      COST_HARD_LIMIT: "0"

    ulimits:
      nofile:
        soft: 1048576
        hard: 1048576

    volumes:
      - ./data:/data